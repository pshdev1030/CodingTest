<html>
    <head>
        <meta charset="UTF-8">
        <title>출력결과</title>
    </head>
    <body>
        <script>
            let jj=0;
            function compareMaps(map1, map2){
                console.log(jj++);
                for([key,value] of map2){
                    if(!map1.get(key)===value) return false;
                }
                return true;
            }
            // 맵끼리 비교하는 함수
            function solution(a,b){
                let sha=new Map();
                let shb=new Map();
                let i=answer=lt=0;
                if(a.length<b.length) return 0;
                else{
                    for(i=0;i<b.length;i++){
                        if(sha.has(a[i])) sha.set(a[i],sha.get(a[i])+1);
                        else sha.set(a[i],1);

                        if(shb.has(b[i])) shb.set(b[i],shb.get(b[i])+1);
                        else shb.set(b[i],1);
                    }

                    if(compareMaps(sha,shb)) answer++;

                    for(let k=i;k<a.length;k++){

                        if(sha.has(a[k])) sha.set(a[k],sha.get(a[k])+1);
                        else sha.set(a[k],1);

                        while(!compareMaps(sha,shb)){
                            sha.set(a[k-lt],sha.get(a[k-lt])-1);
                            lt++;
                        };
                        if(compareMaps(sha,shb)) answer++;
                    }
                }
                return answer;
            }
            
            let a="bacaAacba";
            let b="abc";
            console.log(solution(a, b));
        </script>
    </body>
</html>
<!-- 부분문자열 부분합= 투포인터 -->